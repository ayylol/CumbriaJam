[gd_scene load_steps=12 format=2]

[ext_resource path="res://Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Camera.gd" type="Script" id=2]
[ext_resource path="res://map.tscn" type="PackedScene" id=3]
[ext_resource path="res://Worker.tscn" type="PackedScene" id=4]

[sub_resource type="BoxShape" id=4]

[sub_resource type="CubeMesh" id=5]

[sub_resource type="Skin" id=6]

[sub_resource type="NavigationMesh" id=7]
vertices = PoolVector3Array( -3.72078, 1.7694, 15.8835, -3.72078, 1.7694, 13.8835, -5.72078, 1.7694, 14.8835, -5.72078, 1.7694, -3.11649, -6.72078, 1.7694, -6.11649, -7.72078, 1.7694, -7.11649, -11.7208, 1.7694, -7.11649, -11.7208, 1.7694, 1.88351, -8.72078, 1.7694, 0.883514, -10.7208, 1.7694, 4.88351, -13.7208, 1.7694, 15.8835, -6.72078, 1.7694, 12.8835, -6.72078, 1.7694, 5.88351, -7.72078, 1.7694, 3.88351, -11.7208, 1.7694, -7.11649, -9.72078, 1.7694, -10.1165, -9.72078, 1.7694, -12.1165, -6.72078, 1.7694, 2.88351, -1.72078, 1.7694, 1.88351, -3.72078, 1.7694, -4.11649, -5.72078, 1.7694, -3.11649, -8.72078, 1.7694, 0.883514, -16.7208, 1.7694, -17.1165, -23.7208, 1.7694, -17.1165, -23.7208, 1.7694, -9.11649, -11.7208, 1.7694, -7.11649, -16.7208, 1.7694, -17.1165, -23.7208, 1.7694, -9.11649, -23.7208, 1.7694, -1.11649, -11.7208, 1.7694, 1.88351, -6.72078, 1.7694, 2.88351, -8.72078, 1.7694, 0.883514, -7.72078, 1.7694, 3.88351, -6.72078, 1.7694, 5.88351, -13.7208, 1.7694, 15.8835, -5.72078, 1.7694, 14.8835, -6.72078, 1.7694, 12.8835, -9.72078, 1.7694, -12.1165, -9.72078, 1.7694, -17.1165, -16.7208, 1.7694, -17.1165, -11.7208, 1.7694, -7.11649, -11.7208, 1.7694, 1.88351, -23.7208, 1.7694, -1.11649, -23.7208, 1.7694, 6.88351, -6.72078, 1.7694, 12.8835, -3.72078, 1.7694, 12.8835, -3.72078, 1.7694, 5.88351, -6.72078, 1.7694, 5.88351, -23.7208, 1.7694, 6.88351, -23.7208, 1.7694, 15.8835, -13.7208, 1.7694, 15.8835, -10.7208, 1.7694, 4.88351, -11.7208, 1.7694, 1.88351, -13.7208, 1.7694, 15.8835, -3.72078, 1.7694, 15.8835, -5.72078, 1.7694, 14.8835, -7.72078, 1.7694, -7.11649, -6.72078, 1.7694, -6.11649, -5.72078, 1.7694, -8.11649, -5.72078, 1.7694, -12.1165, -9.72078, 1.7694, -12.1165, -9.72078, 1.7694, -10.1165, -1.72078, 1.7694, 14.8835, -3.72078, 1.7694, 13.8835, -3.72078, 1.7694, 15.8835, -1.72078, 1.7694, -12.1165, -2.72078, 1.7694, -15.1165, -4.72078, 1.7694, -15.1165, -5.72078, 1.7694, -12.1165, 3.27922, 1.7694, 3.88351, 10.2792, 1.7694, 15.8835, 24.2792, 1.7694, 6.88351, 24.2792, 1.7694, -1.11649, 13.2792, 1.7694, -17.1165, 3.27922, 1.7694, -9.11649, -1.72078, 1.7694, 6.88351, -3.72078, 1.7694, 5.88351, -3.72078, 1.7694, 12.8835, -0.720783, 1.7694, 12.8835, 2.27922, 1.7694, -17.1165, 2.27922, 1.7694, -12.1165, 3.27922, 1.7694, -9.11649, 13.2792, 1.7694, -17.1165, 24.2792, 1.7694, -1.11649, 24.2792, 1.7694, -9.11649, 13.2792, 1.7694, -17.1165, 2.27922, 1.7694, -6.11649, -0.720783, 1.7694, -7.11649, -1.72078, 1.7694, -3.11649, -1.72078, 1.7694, 1.88351, 2.27922, 1.7694, 0.883514, -1.72078, 1.7694, -3.11649, -3.72078, 1.7694, -4.11649, -1.72078, 1.7694, 1.88351, -1.72078, 1.7694, 14.8835, -3.72078, 1.7694, 15.8835, 3.27922, 1.7694, 15.8835, -0.720783, 1.7694, 12.8835, -1.72078, 1.7694, 14.8835, 3.27922, 1.7694, 15.8835, 3.27922, 1.7694, -9.11649, 2.27922, 1.7694, -6.11649, 2.27922, 1.7694, 0.883514, 3.27922, 1.7694, 3.88351, -1.72078, 1.7694, -12.1165, -5.72078, 1.7694, -12.1165, -5.72078, 1.7694, -8.11649, -0.720783, 1.7694, -7.11649, 0.279217, 1.7694, -10.1165, 17.2792, 1.7694, 15.8835, 24.2792, 1.7694, 15.8835, 24.2792, 1.7694, 6.88351, 10.2792, 1.7694, 15.8835, 17.2792, 1.7694, 15.8835, 24.2792, 1.7694, 6.88351, 2.27922, 1.7694, -12.1165, -1.72078, 1.7694, -12.1165, 0.279217, 1.7694, -10.1165, 3.27922, 1.7694, -9.11649, 24.2792, 1.7694, -9.11649, 24.2792, 1.7694, -17.1165, 13.2792, 1.7694, -17.1165, 3.27922, 1.7694, 3.88351, -0.720783, 1.7694, 3.88351, -1.72078, 1.7694, 6.88351, -0.720783, 1.7694, 12.8835, 3.27922, 1.7694, 15.8835, 10.2792, 1.7694, 15.8835 )
polygons = [ PoolIntArray( 0, 2, 1 ), PoolIntArray( 4, 3, 5 ), PoolIntArray( 5, 3, 6 ), PoolIntArray( 6, 3, 8 ), PoolIntArray( 6, 8, 7 ), PoolIntArray( 13, 12, 9 ), PoolIntArray( 9, 12, 11 ), PoolIntArray( 9, 11, 10 ), PoolIntArray( 16, 15, 14 ), PoolIntArray( 21, 20, 17 ), PoolIntArray( 17, 20, 19 ), PoolIntArray( 17, 19, 18 ), PoolIntArray( 24, 23, 22 ), PoolIntArray( 26, 25, 27 ), PoolIntArray( 27, 25, 28 ), PoolIntArray( 28, 25, 29 ), PoolIntArray( 33, 32, 30 ), PoolIntArray( 30, 32, 31 ), PoolIntArray( 36, 35, 34 ), PoolIntArray( 37, 40, 38 ), PoolIntArray( 38, 40, 39 ), PoolIntArray( 43, 42, 41 ), PoolIntArray( 47, 46, 44 ), PoolIntArray( 44, 46, 45 ), PoolIntArray( 51, 50, 52 ), PoolIntArray( 52, 50, 48 ), PoolIntArray( 48, 50, 49 ), PoolIntArray( 55, 54, 53 ), PoolIntArray( 57, 56, 58 ), PoolIntArray( 58, 56, 61 ), PoolIntArray( 58, 61, 60 ), PoolIntArray( 58, 60, 59 ), PoolIntArray( 64, 63, 62 ), PoolIntArray( 66, 65, 67 ), PoolIntArray( 67, 65, 68 ), PoolIntArray( 71, 70, 72 ), PoolIntArray( 72, 70, 69 ), PoolIntArray( 72, 69, 74 ), PoolIntArray( 72, 74, 73 ), PoolIntArray( 78, 77, 75 ), PoolIntArray( 75, 77, 76 ), PoolIntArray( 80, 79, 81 ), PoolIntArray( 81, 79, 82 ), PoolIntArray( 85, 84, 83 ), PoolIntArray( 87, 86, 88 ), PoolIntArray( 88, 86, 90 ), PoolIntArray( 88, 90, 89 ), PoolIntArray( 93, 92, 91 ), PoolIntArray( 95, 94, 96 ), PoolIntArray( 97, 99, 98 ), PoolIntArray( 101, 100, 102 ), PoolIntArray( 102, 100, 103 ), PoolIntArray( 108, 107, 104 ), PoolIntArray( 104, 107, 106 ), PoolIntArray( 104, 106, 105 ), PoolIntArray( 111, 110, 109 ), PoolIntArray( 114, 113, 112 ), PoolIntArray( 118, 117, 115 ), PoolIntArray( 115, 117, 116 ), PoolIntArray( 121, 120, 119 ), PoolIntArray( 123, 122, 124 ), PoolIntArray( 124, 122, 125 ), PoolIntArray( 125, 122, 126 ), PoolIntArray( 126, 122, 127 ) ]
cell/size = 1.0
cell/height = 1.0
agent/radius = 0.8

[sub_resource type="PhysicsMaterial" id=3]
rough = true

[sub_resource type="BoxShape" id=1]
extents = Vector3( 3.14364, 0.16657, 2.70353 )

[sub_resource type="CubeMesh" id=2]

[node name="Spatial" type="Spatial"]

[node name="RigidBody" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.13882, 5.59032, 0 )

[node name="CollisionShape" type="CollisionShape" parent="RigidBody"]
shape = SubResource( 4 )

[node name="MeshInstance" type="MeshInstance" parent="RigidBody"]
mesh = SubResource( 5 )
skin = SubResource( 6 )
material/0 = null

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 7 )

[node name="DebugFloor" type="StaticBody" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 7.96079, 0, 0, 0, 1, 0, 0, 0, 6.23548, 0, 0, 0 )
physics_material_override = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/DebugFloor"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Navigation/NavigationMeshInstance/DebugFloor"]
transform = Transform( 3.15682, 0, 0, 0, 0.155685, 0, 0, 0, 2.75252, 0.0515022, 0.00755465, -0.0446446 )
mesh = SubResource( 2 )
material/0 = null

[node name="MAP" parent="Navigation/NavigationMeshInstance" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.4131, -0.126994, -7.22969 )

[node name="KinematicBody" parent="Navigation" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18.1743, 1.79381, 3.55561 )

[node name="Garbage" type="Spatial" parent="."]

[node name="Player" parent="Garbage" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.22808, 4.56385, 9.1221 )

[node name="RemoteTransform" type="RemoteTransform" parent="Garbage/Player"]
remote_path = NodePath("../../Cam")
update_rotation = false
update_scale = false

[node name="Cam" type="Spatial" parent="Garbage"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.22808, 4.56385, 9.1221 )
script = ExtResource( 2 )

[node name="H" type="Spatial" parent="Garbage/Cam"]

[node name="V" type="Spatial" parent="Garbage/Cam/H"]

[node name="Camera" type="ClippedCamera" parent="Garbage/Cam/H/V"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00181675, 0, 3.25458 )
near = 0.01
process_mode = 1
